<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="stylesheet/main.css" />
    <title>IERG4210 Admin</title>
  </head>

  <body>
    <header>
      <h1>CD Shop</h1>
      <nav class="pages">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="#">Check order</a></li>
          <li><a href="/login">Login</a></li>
        </ul>
      </nav>
    </header>

    <!--!handle the CSS later-->
    <h2>Admin Page</h2>

    <div class="admin-container">
      <div class="categoryMenu">
        <a>Products</a>
        <br />
        <a>Orders</a>
      </div>

      <div id="orders-container"></div>
      <div class="admin-form">
        <label for="action" id="action-label">Action:</label>
        <select name="action" id="action">
          <option value="add">Add Product</option>
          <option value="edit">Edit Product</option>
          <option value="delete">Delete Product</option>
          <option value="add-cat">Add Category</option>
          <option value="delete-cat">Delete Category</option>
        </select>

        <form
          id="add"
          name="add"
          action="/admin/add-product"
          method="post"
          enctype="multipart/form-data"
        >
          <input type="hidden" name="_csrf" />
          <label for="category">Category:</label>
          <select name="catid" id="add-category" required></select>
          <br />
          <label for="name">CD Name:</label>
          <input
            type="text"
            name="name"
            required
            pattern="[A-Za-z0-9\s\-'!\u300C\u300D\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+"
          />
          <!--Regex: only letter, numbers, whitespace, and chinese-->
          <br />
          <label for="price">Price:</label>
          <input type="number" name="price" required min="0" />
          <br />
          <label for="description">Description:</label>
          <textarea name="description" wrap="hard" required></textarea>
          <br />
          <label for="image"
            >Image: Please upload in .jpeg or .png or .gif</label
          >
          <br />
          <input
            type="file"
            name="image"
            accept="image/jpeg, image/png, image/gif"
          />
          <br />
          <button type="submit">Submit</button>
        </form>

        <form
          id="edit"
          name="edit"
          action="/admin/edit-product"
          method="post"
          enctype="multipart/form-data"
        >
          <input type="hidden" name="_csrf" />
          <select id="edit-dropdown" required></select>
          <br />
          <label for="category">Category:</label>
          <select name="catid" id="edit-category" required>
            <!--  <option value="1">J-Pop</option>
            <option value="2">K-Pop</option>
            <option value="3">Canton-Pop</option>
            <option value="4">Movie Soundtrack</option> -->
          </select>
          <br />
          <label for="name">CD Name:</label>
          <input
            type="text"
            name="name"
            id="edit-name"
            pattern="[A-Za-z0-9\s\-'!\u300C\u300D\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+"
          />
          <br />
          <label for="price">Price:</label>
          <input type="number" name="price" id="edit-price" />
          <br />
          <label for="description">Description:</label>
          <textarea
            name="description"
            wrap="hard"
            id="edit-description"
          ></textarea>
          <br />
          <img id="ogImage" src="" alt="ogImage" name="ogImage" />
          <br />
          <label for="image"
            >Please upload in .jpeg or .png or .gif if needed</label
          >
          <input
            type="file"
            name="image"
            id="upload-image"
            accept="image/jpeg, image/png, image/gif"
          />
          <br />
          <button type="submit">Submit</button>
        </form>

        <form
          id="delete"
          name="delete"
          action="/admin/delete-product"
          method="post"
          enctype="application/x-www-form-urlencoded"
        >
          <input type="hidden" name="_csrf" />
          <div id="products-list"></div>
          <button type="submit">Submit</button>
        </form>

        <form
          id="add-cat"
          name="add-cat"
          action="/admin/add-category"
          method="post"
          enctype="application/x-www-form-urlencoded"
        >
          <input type="hidden" name="_csrf" />
          <label for="category">Category:</label>
          <input
            type="text"
            name="name"
            id="add-cat-name"
            required
            pattern="[A-Za-z0-9\s\-'!\u300C\u300D\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+"
          />
          <button type="submit">Submit</button>
        </form>

        <form
          id="delete-cat"
          name="delete-cat"
          action="/admin/delete-category"
          method="post"
        >
          <input type="hidden" name="_csrf" />
          <label for="category">Category:</label>
          <select
            name="catid"
            class="category"
            id="delete-category"
            required
          ></select>
          <button type="submit">Submit</button>
        </form>
      </div>
    </div>
  </body>
  <script type="text/javascript" src="security.js"></script>
  <script type="text/javascript" src="admin.js"></script>
</html>
